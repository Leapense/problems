# 29379번: Гарри Поттер и Распределяющая Шляпа - <img src="https://static.solved.ac/tier_small/8.svg" style="height:20px" /> Silver III

<!-- performance -->

<!-- 문제 제출 후 깃허브에 푸시를 했을 때 제출한 코드의 성능이 입력될 공간입니다.-->

<!-- end -->

## 문제

[문제 링크](https://boj.kr/29379)


<p>Испокон веков разделением учеников на факультеты занимается волшебная шляпа. Раньше в школе было четыре различных факультета, но после недавних реформ факультетов стало $p$. Шляпа же всё ещё занимается распределением учеников. </p>

<p>Перед торжественной церемонией шляпа заранее составляет план распределения учеников по факультетам. План является последовательностью чисел $a_1, a_2, \ldots, a_k$, где $a_i$ является номером факультета, на который попадет $i$-й ученик.</p>

<p>В своём плане шляпа использует для факультетов номера от $0$ до $p-1$. Следующим за $i$-м факультетом считается $(i+1)$-й, за $(p-1)$-м --- нулевой. Первая версия плана содержит только один факультет --- нулевой. После чего шляпа много раз дописывает в конец плана текущее содержимое плана, заменив каждый факультет на следующий.</p>

<p>Рассмотрим распределение девяти учеников по четырём факультетам. Шляпа будет последовательно строить следующие планы: $(0)$, $(0, 1)$, $(0, 1, 1, 2)$, $(0, 1, 1, 2, 1, 2, 2, 3)$, $(0, 1, 1, 2, 1, 2, 2, 3, 1, 2, 2, 3, 2, 3, 3, 0)$. Длина последнего плана достаточна для распределения всех учеников по факультетам, поэтому следующие планы шляпа может не строить. </p>

<p>Скажите, на какой из $p$ факультетов шляпа распределит $n$-го ученика.</p>



## 입력


<p>В первой строке задано число $q$ ($1 \le q \le 100{\,}000$) --- количество запросов. В следующих $q$ строках описаны запросы. Каждый запрос содержит два целых числа $n$ и $p$ ($1 \le n \le 10^{18}$, $2 \le p \le 10^{18}$) --- номер ученика и количество факультетов в Хогвартсе.</p>



## 출력


<p>Для каждого запроса выведите одно число --- номер факультета, на который шляпа распределит $n$-го ученика.</p>



## 소스코드

[소스코드 보기](Гарри%20Поттер%20и%20Распределяющая%20Шляпа.cpp)